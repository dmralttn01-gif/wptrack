<!DOCTYPE html>
<html lang="tr">
<head>
Â  Â  <meta charset="UTF-8" />
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  Â  <title>WhatsApp Webhook Track</title>
Â  Â  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
Â  Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
Â  Â  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <style>
Â  Â  Â  Â  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
Â  Â  Â  Â  body { font-family: 'Inter', sans-serif; }
Â  Â  Â  Â  .location-circle-outer {
Â  Â  Â  Â  Â  Â  width: 28px;
Â  Â  Â  Â  Â  Â  height: 28px;
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  border: 3px solid #06b6d4;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 10px 2px rgba(6, 182, 212, 0.7);
Â  Â  Â  Â  Â  Â  animation: pulse-ring 1.5s infinite;
Â  Â  Â  Â  }
Â  Â  Â  Â  .location-circle-inner {
Â  Â  Â  Â  Â  Â  width: 12px;
Â  Â  Â  Â  Â  Â  height: 12px;
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  background-color: #06b6d4;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes pulse-ring {
Â  Â  Â  Â  Â  Â  0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(6, 182, 212, 0.7); }
Â  Â  Â  Â  Â  Â  70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(6, 182, 212, 0); }
Â  Â  Â  Â  Â  Â  100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(6, 182, 212, 0); }
Â  Â  Â  Â  }
Â  Â  Â  Â  .signal-bar {
Â  Â  Â  Â  Â  Â  @apply flex space-x-0.5 items-end h-4;
Â  Â  Â  Â  }
Â  Â  Â  Â  .signal-bar div {
Â  Â  Â  Â  Â  Â  @apply w-1.5 bg-slate-500 rounded-sm transition-all duration-300;
Â  Â  Â  Â  }
Â  Â  Â  Â  .signal-bar .active {
Â  Â  Â  Â  Â  Â  @apply bg-cyan-500;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* Ã–zel uyarÄ± kutusu stili */
Â  Â  Â  Â  #alertModal {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 50%;
Â  Â  Â  Â  Â  Â  left: 50%;
Â  Â  Â  Â  Â  Â  transform: translate(-50%, -50%);
Â  Â  Â  Â  Â  Â  z-index: 10000;
Â  Â  Â  Â  Â  Â  background: #1e293b;
Â  Â  Â  Â  Â  Â  padding: 24px;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
Â  Â  Â  Â  Â  Â  width: 300px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  border: 1px solid #334155;
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body class="bg-slate-950 text-slate-50 flex h-screen overflow-hidden">

Â  Â  <!-- Admin GiriÅŸ EkranÄ± -->
Â  Â  <div id="adminLoginScreen" class="absolute inset-0 flex items-center justify-center bg-slate-950/90 z-50">
Â  Â  Â  Â  <div class="bg-slate-900 p-8 rounded-xl shadow-lg w-full max-w-sm border border-slate-800">
Â  Â  Â  Â  Â  Â  <h2 class="text-3xl font-bold text-green-400 mb-4 text-center">WP Webhook GiriÅŸ</h2>
Â  Â  Â  Â  Â  Â  <p class="text-slate-400 mb-6 text-center">Devam etmek iÃ§in Webhook kimlik bilgilerinizi girin.</p>
Â  Â  Â  Â  Â  Â  <div class="space-y-4">
Â  Â  Â  Â  Â  Â  Â  Â  <input id="adminUsername" type="text" placeholder="KullanÄ±cÄ± AdÄ±" class="w-full px-4 py-3 bg-slate-800 text-white rounded-lg border border-slate-700 focus:outline-none focus:ring-2 focus:ring-green-500 placeholder-slate-500" />
Â  Â  Â  Â  Â  Â  Â  Â  <input id="adminPassword" type="password" placeholder="Åžifre" class="w-full px-4 py-3 bg-slate-800 text-white rounded-lg border border-slate-700 focus:outline-none focus:ring-2 focus:ring-green-500 placeholder-slate-500" />
Â  Â  Â  Â  Â  Â  Â  Â  <button id="adminLoginBtn" class="w-full py-3 bg-[#25D366] hover:bg-[#1DA851] text-white font-bold rounded-lg transition-colors">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  BaÄŸlan
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <p id="loginError" class="text-red-500 text-sm text-center hidden">KullanÄ±cÄ± adÄ± veya ÅŸifre hatalÄ±.</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <!-- GiriÅŸ EkranÄ± (Telefon NumarasÄ±) -->
Â  Â  <div id="introScreen" class="absolute inset-0 flex items-center justify-center bg-slate-950/75 z-50 hidden">
Â  Â  Â  Â  <div class="bg-slate-900 p-8 rounded-xl shadow-lg w-full max-w-sm border border-slate-800">
Â  Â  Â  Â  Â  Â  <p class="text-slate-400 mb-6 text-center">Numara girin</p>
Â  Â  Â  Â  Â  Â  <div class="space-y-4">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex relative">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <!-- Ãœlke Kodu SeÃ§imi -->
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="countrySelectContainer" class="relative">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="countrySelectBtn" class="flex items-center px-4 py-3 bg-slate-800 text-white rounded-l-lg border border-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="selectedFlag">ðŸ‡¹ðŸ‡·</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="selectedCode" class="ml-2">+90</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="countryList" class="hidden absolute top-full mt-2 w-72 bg-slate-800 rounded-lg shadow-lg max-h-60 overflow-y-auto border border-slate-700 z-10">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input id="countrySearch" type="text" placeholder="Ãœlke ara..." class="sticky top-0 w-full px-4 py-2 bg-slate-700 text-white rounded-t-lg border-b border-slate-600 focus:outline-none" />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ul id="countryOptions" class="space-y-1 p-2"></ul>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <!-- Telefon NumarasÄ± GiriÅŸi -->
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input id="phoneNumberInput" type="tel" placeholder="5XX XXX XX XX" class="flex-1 px-4 py-3 bg-slate-800 text-white rounded-r-lg border border-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 placeholder-slate-500" />
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="showLocationBtn" class="w-full py-3 bg-cyan-600 hover:bg-cyan-700 text-white font-bold rounded-lg transition-colors">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Veri Getir
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <!-- Ã–zel UyarÄ± Kutusu -->
Â  Â  <div id="alertModal" class="hidden">
Â  Â  Â  Â  <p id="alertMessage" class="text-slate-50 mb-4"></p>
Â  Â  Â  Â  <button onclick="document.getElementById('alertModal').classList.add('hidden')" class="w-full py-2 px-4 bg-cyan-600 hover:bg-cyan-700 text-white font-bold rounded-lg transition-colors">Tamam</button>
Â  Â  </div>

Â  Â  <!-- Uygulama EkranÄ± -->
Â  Â  <div id="app" class="flex w-full h-full hidden">

Â  Â  Â  Â  <!-- Sidebar -->
Â  Â  Â  Â  <div id="sidebar" class="w-80 bg-slate-900 p-6 flex flex-col justify-between border-r border-slate-800">
Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  <h1 class="text-2xl font-bold text-cyan-400 mb-4">WhatsApp Webhook Track</h1>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="space-y-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="userInfo" class="bg-slate-800 p-4 rounded-lg shadow-inner flex items-center space-x-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img id="profilePicture" class="w-12 h-12 rounded-full border-2 border-cyan-400" src="https://placehold.co/100x100/1e293b/a1a1aa?text=PP" alt="Profil FotoÄŸrafÄ±" />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-sm text-slate-400">Takip Edilen Numara</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="trackedNumber" class="text-white font-mono break-all text-xs mt-1">YÃ¼kleniyor...</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="space-y-2 text-sm text-slate-300">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex justify-between items-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-slate-400">Durum:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="status" class="font-semibold text-white">-</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex flex-col">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex justify-between items-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-slate-400">Konum:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="locationName" class="font-semibold text-white text-right">-</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex justify-between items-center mt-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-slate-400">Koordinat:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-xs text-slate-400 text-right" id="coordinatesDisplay">-</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex justify-between items-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center space-x-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-slate-400">WhatsApp API BaÄŸlantÄ±sÄ±:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="connectionStatus" class="font-semibold text-white">BaÄŸlandÄ±</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="signalDisplay" class="signal-bar">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="h-1.5"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="h-2"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="h-2.5"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="h-3"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="h-3.5"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex justify-between items-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-slate-400">Veri Getirme Saati:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="lastUpdated" class="font-semibold text-white">-</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mt-8">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="googleMapsBtn" class="w-full py-3 px-4 bg-lime-600 hover:bg-lime-700 text-white font-bold rounded-lg transition-colors">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Google Maps'te GÃ¶ster
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <!-- Action Buttons -->
Â  Â  Â  Â  Â  Â  <div class="mt-8 space-y-4">
Â  Â  Â  Â  Â  Â  Â  Â  <button id="recenterBtn" class="w-full py-3 px-4 bg-slate-700 hover:bg-slate-600 text-white font-bold rounded-lg transition-colors">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Konumu Merkeze Al
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="stopTrackingBtn" class="w-full py-3 px-4 bg-red-600 hover:bg-red-700 text-white font-bold rounded-lg transition-colors">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Ã‡Ä±kÄ±ÅŸ Yap
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <!-- Map -->
Â  Â  Â  Â  <div id="mapWrap" class="flex-1 relative">
Â  Â  Â  Â  Â  Â  <div id="map" class="w-full h-full rounded-l-lg overflow-hidden"></div>
Â  Â  Â  Â  Â  Â  <div id="notification" class="absolute top-4 right-4 bg-red-600 text-white px-4 py-2 rounded-lg shadow-lg z-50 hidden">
Â  Â  Â  Â  Â  Â  Â  Â  BaÄŸlantÄ± kesildi!
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  </div>

Â  Â  <!-- JavaScript -->
Â  Â  <script>
Â  Â  Â  Â  const CORRECT_USER = 'admin';
Â  Â  Â  Â  const CORRECT_PASS = 'karaborsa0101';
Â  Â  Â  Â  let isAdminLoggedIn = false;
Â  Â  Â  Â  const loginAttempts = {};
Â  Â  Â  Â  const lastQueryTimes = {};
Â  Â  Â  Â  let map, vehicleMarker;
Â  Â  Â  Â  let simulationInterval;
Â  Â  Â  Â  let currentPhoneNumber = null;

Â  Â  Â  Â  const OSTIM_BOUNDS = {
Â  Â  Â  Â  Â  Â  minLat: 39.96,
Â  Â  Â  Â  Â  Â  maxLat: 39.98,
Â  Â  Â  Â  Â  Â  minLng: 32.78,
Â  Â  Â  Â  Â  Â  maxLng: 32.81,
Â  Â  Â  Â  };
Â  Â  Â  Â Â 
Â  Â  Â  Â  const countries = [
Â  Â  Â  Â  Â  Â  { name: "TÃ¼rkiye", code: "+90", flag: "ðŸ‡¹ðŸ‡·", pattern: /^5[0-9]{9}$/ },
Â  Â  Â  Â  Â  Â  { name: "United States", code: "+1", flag: "ðŸ‡ºðŸ‡¸", pattern: /^[2-9][0-9]{9}$/ },
Â  Â  Â  Â  Â  Â  { name: "United Kingdom", code: "+44", flag: "ðŸ‡¬ðŸ‡§", pattern: /^7[0-9]{9}$/ },
Â  Â  Â  Â  Â  Â  { name: "Germany", code: "+49", flag: "ðŸ‡©ðŸ‡ª", pattern: /^(15|16|17)[0-9]{8,9}$/ },
Â  Â  Â  Â  Â  Â  { name: "France", code: "+33", flag: "ðŸ‡«ðŸ‡·", pattern: /^6[0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  { name: "Russia", code: "+7", flag: "ðŸ‡·ðŸ‡º", pattern: /^9[0-9]{9}$/ },
Â  Â  Â  Â  Â  Â  { name: "China", code: "+86", flag: "ðŸ‡¨ðŸ‡³", pattern: /^1[3-9][0-9]{9}$/ },
Â  Â  Â  Â  Â  Â  { name: "Japan", code: "+81", flag: "ðŸ‡¯ðŸ‡µ", pattern: /^90[0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  { name: "Brazil", code: "+55", flag: "ðŸ‡§ðŸ‡·", pattern: /^[1-9]{2}9[0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  { name: "Canada", code: "+1", flag: "ðŸ‡¨ðŸ‡¦", pattern: /^[2-9][0-9]{9}$/ },
Â  Â  Â  Â  Â  Â  { name: "Australia", code: "+61", flag: "ðŸ‡¦ðŸ‡º", pattern: /^4[0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  { name: "India", code: "+91", flag: "ðŸ‡®ðŸ‡³", pattern: /^[6-9][0-9]{9}$/ },
Â  Â  Â  Â  Â  Â  { name: "Netherlands", code: "+31", flag: "ðŸ‡³ðŸ‡±", pattern: /^6[0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  { name: "Spain", code: "+34", flag: "ðŸ‡ªðŸ‡¸", pattern: /^6[0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  { name: "Italy", code: "+39", flag: "ðŸ‡®ðŸ‡¹", pattern: /^3[0-9]{9}$/ },
Â  Â  Â  Â  Â  Â  { name: "Mexico", code: "+52", flag: "ðŸ‡²ðŸ‡½", pattern: /^1[0-9]{10}$/ },
Â  Â  Â  Â  Â  Â  { name: "South Africa", code: "+27", flag: "ðŸ‡¿ðŸ‡¦", pattern: /^7[0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  { name: "Egypt", code: "+20", flag: "ðŸ‡ªðŸ‡¬", pattern: /^1[0-2][0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  { name: "Greece", code: "+30", flag: "ðŸ‡¬ðŸ‡·", pattern: /^69[0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  { name: "Belgium", code: "+32", flag: "ðŸ‡§ðŸ‡ª", pattern: /^4[0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  { name: "Sweden", code: "+46", flag: "ðŸ‡¸ðŸ‡ª", pattern: /^7[0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  { name: "Norway", code: "+47", flag: "ðŸ‡³ðŸ‡´", pattern: /^4[0-9]{7}$/ },
Â  Â  Â  Â  Â  Â  { name: "Poland", code: "+48", flag: "ðŸ‡µðŸ‡±", pattern: /^6[0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  { name: "Argentina", code: "+54", flag: "ðŸ‡¦ðŸ‡·", pattern: /^9[0-9]{10}$/ },
Â  Â  Â  Â  Â  Â  { name: "Colombia", code: "+57", flag: "ðŸ‡¨ðŸ‡´", pattern: /^3[0-9]{9}$/ },
Â  Â  Â  Â  Â  Â  { name: "Finland", code: "+358", flag: "ðŸ‡«ðŸ‡®", pattern: /^4[0-9]{7}$/ },
Â  Â  Â  Â  Â  Â  { name: "New Zealand", code: "+64", flag: "ðŸ‡³ðŸ‡¿", pattern: /^2[0-9]{7,9}$/ },
Â  Â  Â  Â  Â  Â  { name: "Portugal", code: "+351", flag: "ðŸ‡µðŸ‡¹", pattern: /^9[0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  { name: "Denmark", code: "+45", flag: "ðŸ‡©ðŸ‡°", pattern: /^2[0-9]{7}$/ },
Â  Â  Â  Â  Â  Â  { name: "South Korea", code: "+82", flag: "ðŸ‡°ðŸ‡·", pattern: /^10[0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  { name: "Thailand", code: "+66", flag: "ðŸ‡¹ðŸ‡­", pattern: /^8[0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  { name: "Ireland", code: "+353", flag: "ðŸ‡®ðŸ‡ª", pattern: /^8[0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  { name: "Israel", code: "+972", flag: "ðŸ‡®ðŸ‡±", pattern: /^5[0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  // Ekleme: Fas (Morocco)
Â  Â  Â  Â  Â  Â  { name: "Morocco", code: "+212", flag: "ðŸ‡²ðŸ‡¦", pattern: /^[6-7][0-9]{8}$/ },
Â  Â  Â  Â  Â  Â  // Ekleme: Yunanistan (Greece)
Â  Â  Â  Â  Â  Â  { name: "Greece", code: "+30", flag: "ðŸ‡¬ðŸ‡·", pattern: /^69[0-9]{8}$/ }
Â  Â  Â  Â  ];

Â  Â  Â  Â  const specialLocations = {
Â  Â  Â  Â  Â  Â  "+905355657152": [
Â  Â  Â  Â  Â  Â  Â  Â  { name: "Yeni Metal Sanayi Sitesi, 46006. Sk., Seyhan/Adana", lat: 37.0315, lng: 35.2570, isMoving: false },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "Yeni Metal Sanayi Sitesi, 46009. Sk., Seyhan/Adana", lat: 37.0321, lng: 35.2568, isMoving: false },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "Yeni Metal Sanayi Sitesi, 46011. Sk., Seyhan/Adana", lat: 37.0325, lng: 35.2565, isMoving: false },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "Yeni Metal Sanayi Sitesi, 46011. Sk., Seyhan/Adana", lat: 37.0325, lng: 35.2565, isMoving: true }
Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  "+905385945601": [
Â  Â  Â  Â  Â  Â  Â  Â  { name: "Ova Mahallesi, 44009. Sk., No:1, Seyhan/Adana", lat: 37.0345, lng: 35.2678, isMoving: false },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "Ova Mahallesi, 44015. Sk., No:5, Seyhan/Adana", lat: 37.0348, lng: 35.2681, isMoving: false },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "Ova Mahallesi, 44021. Sk., No:10, Seyhan/Adana", lat: 37.0352, lng: 35.2685, isMoving: false },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "Ova Mahallesi, 44009. Sk., Seyhan/Adana", lat: 37.0345, lng: 35.2678, isMoving: true }
Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  "+905353214955": [
Â  Â  Â  Â  Â  Â  Â  Â  { name: "Yeni Metal Sanayi Sitesi, 46006. Sk., Seyhan/Adana", lat: 37.0315, lng: 35.2570, isMoving: false },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "Yeni Metal Sanayi Sitesi, 46009. Sk., Seyhan/Adana", lat: 37.0321, lng: 35.2568, isMoving: false },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "Yeni Metal Sanayi Sitesi, 46011. Sk., Seyhan/Adana", lat: 37.0325, lng: 35.2565, isMoving: false },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "Yeni Metal Sanayi Sitesi, 46011. Sk., Seyhan/Adana", lat: 37.0325, lng: 35.2565, isMoving: true }
Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  // Ekleme: Yeni numara iÃ§in Ã¶zel konum
Â  Â  Â  Â  Â  Â  "+905542328498": [
Â  Â  Â  Â  Â  Â  Â  Â  { name: "Ova Mahallesi, 46031. Sk., Seyhan/Adana", lat: 37.0335, lng: 35.2660, isMoving: false },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "Ova Mahallesi, 46031. Sk., Seyhan/Adana", lat: 37.0335, lng: 35.2660, isMoving: true }
Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  };

Â  Â  Â  Â  const streetTypes = ["Sokak", "Cadde", "Bulvar", "Meydan"];
Â  Â  Â  Â  const streetNames = ["Ä°lkadÄ±m", "Fatih", "Cevizli", "GÃ¼lbahar", "Sanayi", "Demir", "Ã‡elik", "TunÃ§"];
Â  Â  Â  Â  const neighborhoods = ["Ostim", "Ä°vedik OSB", "Macun Mahallesi", "Ergazi Mahallesi"];
Â  Â  Â  Â  const locationHistory = {};

Â  Â  Â  Â  const generateRandomOstimLocation = () => {
Â  Â  Â  Â  Â  Â  const lat = OSTIM_BOUNDS.minLat + Math.random() * (OSTIM_BOUNDS.maxLat - OSTIM_BOUNDS.minLat);
Â  Â  Â  Â  Â  Â  const lng = OSTIM_BOUNDS.minLng + Math.random() * (OSTIM_BOUNDS.maxLng - OSTIM_BOUNDS.minLng);
Â  Â  Â  Â  Â  Â  const streetType = streetTypes[Math.floor(Math.random() * streetTypes.length)];
Â  Â  Â  Â  Â  Â  const streetName = streetNames[Math.floor(Math.random() * streetNames.length)];
Â  Â  Â  Â  Â  Â  const streetNumber = Math.floor(Math.random() * 100) + 1;
Â  Â  Â  Â  Â  Â  const neighborhood = neighborhoods[Math.floor(Math.random() * neighborhoods.length)];
Â  Â  Â  Â  Â  Â  const isMoving = Math.random() < 0.5;

Â  Â  Â  Â  Â  Â  return {
Â  Â  Â  Â  Â  Â  Â  Â  name: `${streetName} ${streetType}, No:${streetNumber}, ${neighborhood}, Yenimahalle/Ankara`,
Â  Â  Â  Â  Â  Â  Â  Â  lat: lat,
Â  Â  Â  Â  Â  Â  Â  Â  lng: lng,
Â  Â  Â  Â  Â  Â  Â  Â  isMoving: isMoving
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  };

Â  Â  Â  Â  const validatePhoneNumber = (countryCode, phoneNumber) => {
Â  Â  Â  Â  Â  Â  const country = countries.find(c => c.code === countryCode);
Â  Â  Â  Â  Â  Â  if (!country || !country.pattern) return false;
Â  Â  Â  Â  Â  Â  const cleanedNumber = phoneNumber.replace(/\s/g, '');
Â  Â  Â  Â  Â  Â  return country.pattern.test(cleanedNumber);
Â  Â  Â  Â  };

Â  Â  Â  Â  const showAdminLoginScreen = () => {
Â  Â  Â  Â  Â  Â  document.getElementById('adminLoginScreen').classList.remove('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('introScreen').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('app').classList.add('hidden');
Â  Â  Â  Â  }

Â  Â  Â  Â  const showIntroScreen = () => {
Â  Â  Â  Â  Â  Â  document.getElementById('adminLoginScreen').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('introScreen').classList.remove('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('app').classList.add('hidden');
Â  Â  Â  Â  };

Â  Â  Â  Â  const showAppScreen = () => {
Â  Â  Â  Â  Â  Â  document.getElementById('adminLoginScreen').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('introScreen').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('app').classList.remove('hidden');
Â  Â  Â  Â  Â  Â  if (map) {
Â  Â  Â  Â  Â  Â  Â  Â  map.invalidateSize();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  const showCustomAlert = (message) => {
Â  Â  Â  Â  Â  Â  document.getElementById('alertMessage').textContent = message;
Â  Â  Â  Â  Â  Â  document.getElementById('alertModal').classList.remove('hidden');
Â  Â  Â  Â  };

Â  Â  Â  Â  const initMap = () => {
Â  Â  Â  Â  Â  Â  if (map) return;
Â  Â  Â  Â  Â  Â  map = L.map('map').setView([OSTIM_BOUNDS.minLat, OSTIM_BOUNDS.minLng], 12);
Â  Â  Â  Â  Â  Â  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
Â  Â  Â  Â  Â  Â  Â  Â  maxZoom: 19,
Â  Â  Â  Â  Â  Â  Â  Â  attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
Â  Â  Â  Â  Â  Â  }).addTo(map);

Â  Â  Â  Â  Â  Â  const vehicleIcon = L.divIcon({
Â  Â  Â  Â  Â  Â  Â  Â  className: 'vehicle-icon',
Â  Â  Â  Â  Â  Â  Â  Â  html: '<div class="location-circle-outer"><div class="location-circle-inner"></div></div>',
Â  Â  Â  Â  Â  Â  Â  Â  iconSize: [28, 28]
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  vehicleMarker = L.marker([OSTIM_BOUNDS.minLat, OSTIM_BOUNDS.minLng], { icon: vehicleIcon }).addTo(map);
Â  Â  Â  Â  };

Â  Â  Â  Â  const setupCountryPicker = () => {
Â  Â  Â  Â  Â  Â  const countryOptions = document.getElementById('countryOptions');
Â  Â  Â  Â  Â  Â  const countrySearch = document.getElementById('countrySearch');
Â  Â  Â  Â  Â  Â  const countrySelectBtn = document.getElementById('countrySelectBtn');
Â  Â  Â  Â  Â  Â  const countryList = document.getElementById('countryList');
Â  Â  Â  Â  Â  Â  const selectedFlag = document.getElementById('selectedFlag');
Â  Â  Â  Â  Â  Â  const selectedCode = document.getElementById('selectedCode');

Â  Â  Â  Â  Â  Â  const renderCountries = (filter = '') => {
Â  Â  Â  Â  Â  Â  Â  Â  countryOptions.innerHTML = '';
Â  Â  Â  Â  Â  Â  Â  Â  const filteredCountries = countries.filter(c =>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  c.name.toLowerCase().includes(filter.toLowerCase()) || c.code.includes(filter)
Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  filteredCountries.forEach(country => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const li = document.createElement('li');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  li.className = 'flex items-center p-2 hover:bg-slate-700 cursor-pointer rounded-lg';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  li.innerHTML = `${country.flag} <span class="ml-2">${country.name}</span> <span class="ml-auto text-slate-400 text-sm">${country.code}</span>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  li.onclick = () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  selectedFlag.textContent = country.flag;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  selectedCode.textContent = country.code;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  countryList.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  countrySearch.value = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  countryOptions.appendChild(li);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  countrySelectBtn.addEventListener('click', (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  e.stopPropagation();
Â  Â  Â  Â  Â  Â  Â  Â  countryList.classList.toggle('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  countrySearch.focus();
Â  Â  Â  Â  Â  Â  Â  Â  renderCountries();
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  countrySearch.addEventListener('input', (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  renderCountries(e.target.value);
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  document.addEventListener('click', (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  if (!countryList.contains(e.target) && !countrySelectBtn.contains(e.target)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  countryList.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  countrySearch.value = '';
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  renderCountries();
Â  Â  Â  Â  };

Â  Â  Â  Â  const updateSignalBars = (isMoving) => {
Â  Â  Â  Â  Â  Â  const signalBars = document.getElementById('signalDisplay').children;
Â  Â  Â  Â  Â  Â  let activeBars = isMoving ? Math.floor(Math.random() * 3) + 3 : Math.floor(Math.random() * 2) + 1;
Â  Â  Â  Â  Â  Â  for (let i = 0; i < signalBars.length; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  if (i < activeBars) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  signalBars[i].classList.add('active');
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  signalBars[i].classList.remove('active');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  const simulateVehicleMovement = () => {
Â  Â  Â  Â  Â  Â  let nextLocation;
Â  Â  Â  Â  Â  Â  if (specialLocations[currentPhoneNumber]) {
Â  Â  Â  Â  Â  Â  Â  Â  const locations = specialLocations[currentPhoneNumber];
Â  Â  Â  Â  Â  Â  Â  Â  let lastIndex = locationHistory[currentPhoneNumber] ? locationHistory[currentPhoneNumber].lastIndex : -1;
Â  Â  Â  Â  Â  Â  Â  Â  let nextIndex = (lastIndex + 1) % locations.length;
Â  Â  Â  Â  Â  Â  Â  Â  nextLocation = locations[nextIndex];
Â  Â  Â  Â  Â  Â  Â  Â  locationHistory[currentPhoneNumber] = { ...nextLocation, lastIndex: nextIndex };
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  nextLocation = generateRandomOstimLocation();
Â  Â  Â  Â  Â  Â  Â  Â  locationHistory[currentPhoneNumber] = nextLocation;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const timestamp = new Date().toLocaleString('tr-TR');
Â  Â  Â  Â  Â  Â  updateUI(nextLocation, timestamp);
Â  Â  Â  Â  };
Â  Â  Â  Â Â 
Â  Â  Â  Â  const updateUI = (location, timestamp) => {
Â  Â  Â  Â  Â  Â  const newPosition = [location.lat, location.lng];
Â  Â  Â  Â  Â  Â  vehicleMarker.setLatLng(newPosition);
Â  Â  Â  Â  Â  Â  vehicleMarker.bindTooltip(location.name).openTooltip();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  document.getElementById('status').textContent = location.isMoving ? 'Hareketli' : 'Sabit';
Â  Â  Â  Â  Â  Â  document.getElementById('lastUpdated').textContent = timestamp;
Â  Â  Â  Â  Â  Â  document.getElementById('locationName').textContent = location.name;
Â  Â  Â  Â  Â  Â  document.getElementById('coordinatesDisplay').textContent = `Lat: ${location.lat.toFixed(6)}, Lng: ${location.lng.toFixed(6)}`;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  updateSignalBars(location.isMoving);
Â  Â  Â  Â  Â  Â  document.getElementById('connectionStatus').textContent = "BaÄŸlandÄ±";
Â  Â  Â  Â  Â  Â  document.getElementById('connectionStatus').classList.remove('text-red-400');
Â  Â  Â  Â  Â  Â  document.getElementById('connectionStatus').classList.add('text-green-400');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  recenterMapToLocation(location.lat, location.lng, 16);
Â  Â  Â  Â  };

Â  Â  Â  Â  const handleAdminLogin = () => {
Â  Â  Â  Â  Â  Â  const username = document.getElementById('adminUsername').value;
Â  Â  Â  Â  Â  Â  const password = document.getElementById('adminPassword').value;
Â  Â  Â  Â  Â  Â  const errorText = document.getElementById('loginError');

Â  Â  Â  Â  Â  Â  if (username === CORRECT_USER && password === CORRECT_PASS) {
Â  Â  Â  Â  Â  Â  Â  Â  isAdminLoggedIn = true;
Â  Â  Â  Â  Â  Â  Â  Â  errorText.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  showIntroScreen();
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  errorText.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  const getProfilePictureUrl = (phoneNumber) => {
Â  Â  Â  Â  Â  Â  if (!phoneNumber || phoneNumber.length < 2) {
Â  Â  Â  Â  Â  Â  Â  Â  return `https://placehold.co/100x100/1e293b/a1a1aa?text=PP`;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  const initials = phoneNumber.substring(0, 2);
Â  Â  Â  Â  Â  Â  let hash = 0;
Â  Â  Â  Â  Â  Â  for (let i = 0; i < phoneNumber.length; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  hash = phoneNumber.charCodeAt(i) + ((hash << 5) - hash);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  let color = '#';
Â  Â  Â  Â  Â  Â  for (let i = 0; i < 3; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  const value = (hash >> (i * 8)) & 0xFF;
Â  Â  Â  Â  Â  Â  Â  Â  color += ('00' + value.toString(16)).substr(-2);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  const hexColor = `C${parseInt(color.substring(1), 16).toString(16).substring(0, 5)}`;
Â  Â  Â  Â  Â  Â  return `https://placehold.co/100x100/${hexColor}/FFFFFF?text=${initials}`;
Â  Â  Â  Â  };

Â  Â  Â  Â  const handleShowLocation = () => {
Â  Â  Â  Â  Â  Â  if (!isAdminLoggedIn) {
Â  Â  Â  Â  Â  Â  Â  Â  showCustomAlert("LÃ¼tfen Ã¶nce yÃ¶netici giriÅŸi yapÄ±n.");
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const countryCode = document.getElementById('selectedCode').textContent.trim();
Â  Â  Â  Â  Â  Â  const phoneNumber = document.getElementById('phoneNumberInput').value.trim();

Â  Â  Â  Â  Â  Â  if (!validatePhoneNumber(countryCode, phoneNumber)) {
Â  Â  Â  Â  Â  Â  Â  Â  showCustomAlert("LÃ¼tfen geÃ§erli bir telefon numarasÄ± girin.");
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const fullNumber = (countryCode + phoneNumber).replace(/[^0-9+]/g, '');
Â  Â  Â  Â  Â  Â  currentPhoneNumber = fullNumber;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  let initialLocation;
Â  Â  Â  Â  Â  Â  if (specialLocations[currentPhoneNumber]) {
Â  Â  Â  Â  Â  Â  Â  Â  initialLocation = specialLocations[currentPhoneNumber][0];
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  initialLocation = generateRandomOstimLocation();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  locationHistory[currentPhoneNumber] = initialLocation;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  document.getElementById('trackedNumber').textContent = currentPhoneNumber;
Â  Â  Â  Â  Â  Â  document.getElementById('profilePicture').src = getProfilePictureUrl(currentPhoneNumber);
Â  Â  Â  Â  Â  Â  showAppScreen();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Initial UI update and starting the simulation
Â  Â  Â  Â  Â  Â  updateUI(initialLocation, new Date().toLocaleString('tr-TR'));
Â  Â  Â  Â  Â  Â  clearInterval(simulationInterval);
Â  Â  Â  Â  Â  Â  simulationInterval = setInterval(simulateVehicleMovement, 3600000);
Â  Â  Â  Â  };
Â  Â  Â  Â Â 
Â  Â  Â  Â  const recenterMapToLocation = (lat, lng, zoom) => {
Â  Â  Â  Â  Â  Â  if (map) {
Â  Â  Â  Â  Â  Â  Â  Â  const newPosition = [lat, lng];
Â  Â  Â  Â  Â  Â  Â  Â  vehicleMarker.setLatLng(newPosition);
Â  Â  Â  Â  Â  Â  Â  Â  map.flyTo(newPosition, zoom, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  animate: true,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  duration: 1.5
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  const stopTracking = () => {
Â  Â  Â  Â  Â  Â  clearInterval(simulationInterval);
Â  Â  Â  Â  Â  Â  currentPhoneNumber = null;
Â  Â  Â  Â  Â  Â  isAdminLoggedIn = false;
Â  Â  Â  Â  Â  Â  showAdminLoginScreen();
Â  Â  Â  Â  };

Â  Â  Â  Â  const recenterMap = () => {
Â  Â  Â  Â  Â  Â  if (vehicleMarker && map) {
Â  Â  Â  Â  Â  Â  Â  Â  const currentLatLng = vehicleMarker.getLatLng();
Â  Â  Â  Â  Â  Â  Â  Â  map.flyTo(currentLatLng, map.getZoom(), {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  animate: true,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  duration: 1.5
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };
Â  Â  Â  Â Â 
Â  Â  Â  Â  window.onload = () => {
Â  Â  Â  Â  Â  Â  initMap();
Â  Â  Â  Â  Â  Â  setupCountryPicker();
Â  Â  Â  Â  Â  Â  document.getElementById('adminLoginBtn').addEventListener('click', handleAdminLogin);
Â  Â  Â  Â  Â  Â  document.getElementById('showLocationBtn').addEventListener('click', handleShowLocation);
Â  Â  Â  Â  Â  Â  document.getElementById('stopTrackingBtn').addEventListener('click', stopTracking);
Â  Â  Â  Â  Â  Â  document.getElementById('recenterBtn').addEventListener('click', recenterMap);
Â  Â  Â  Â  Â  Â  document.getElementById('googleMapsBtn').addEventListener('click', openGoogleMaps);
Â  Â  Â  Â  Â  Â  showAdminLoginScreen();
Â  Â  Â  Â  };
Â  Â  Â  Â Â 
Â  Â  Â  Â  function openGoogleMaps() {
Â  Â  Â  Â  Â  Â  const lat = vehicleMarker.getLatLng().lat;
Â  Â  Â  Â  Â  Â  const lng = vehicleMarker.getLatLng().lng;
Â  Â  Â  Â  Â  Â  const url = `https://www.google.com/maps/search/?api=1&query=${lat},${lng}`;
Â  Â  Â  Â  Â  Â  window.open(url, '_blank');
Â  Â  Â  Â  }
Â  Â  </script>
</body>
</html>
